{"ast":null,"code":"module.exports =\n/******/\nfunction (modules) {\n  // webpackBootstrap\n\n  /******/\n  // The module cache\n\n  /******/\n  var installedModules = {};\n  /******/\n  // The require function\n\n  /******/\n\n  function __webpack_require__(moduleId) {\n    /******/\n    // Check if module is in cache\n\n    /******/\n    if (installedModules[moduleId])\n      /******/\n      return installedModules[moduleId].exports;\n    /******/\n    // Create a new module (and put it into the cache)\n\n    /******/\n\n    var module = installedModules[moduleId] = {\n      /******/\n      exports: {},\n\n      /******/\n      id: moduleId,\n\n      /******/\n      loaded: false\n      /******/\n\n    };\n    /******/\n    // Execute the module function\n\n    /******/\n\n    modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n    /******/\n    // Flag the module as loaded\n\n    /******/\n\n    module.loaded = true;\n    /******/\n    // Return the exports of the module\n\n    /******/\n\n    return module.exports;\n    /******/\n  }\n  /******/\n  // expose the modules object (__webpack_modules__)\n\n  /******/\n\n\n  __webpack_require__.m = modules;\n  /******/\n  // expose the module cache\n\n  /******/\n\n  __webpack_require__.c = installedModules;\n  /******/\n  // __webpack_public_path__\n\n  /******/\n\n  __webpack_require__.p = \"\";\n  /******/\n  // Load entry module and return exports\n\n  /******/\n\n  return __webpack_require__(0);\n  /******/\n}(\n/************************************************************************/\n\n/******/\n[\n/* 0 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if ('value' in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  var _get = function get(_x5, _x6, _x7) {\n    var _again = true;\n\n    _function: while (_again) {\n      var object = _x5,\n          property = _x6,\n          receiver = _x7;\n      desc = parent = getter = undefined;\n      _again = false;\n      if (object === null) object = Function.prototype;\n      var desc = Object.getOwnPropertyDescriptor(object, property);\n\n      if (desc === undefined) {\n        var parent = Object.getPrototypeOf(object);\n\n        if (parent === null) {\n          return undefined;\n        } else {\n          _x5 = parent;\n          _x6 = property;\n          _x7 = receiver;\n          _again = true;\n          continue _function;\n        }\n      } else if ('value' in desc) {\n        return desc.value;\n      } else {\n        var getter = desc.get;\n\n        if (getter === undefined) {\n          return undefined;\n        }\n\n        return getter.call(receiver);\n      }\n    }\n  };\n\n  function _interopRequireWildcard(obj) {\n    if (obj && obj.__esModule) {\n      return obj;\n    } else {\n      var newObj = {};\n\n      if (obj != null) {\n        for (var key in obj) {\n          if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n        }\n      }\n\n      newObj['default'] = obj;\n      return newObj;\n    }\n  }\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      'default': obj\n    };\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError('Cannot call a class as a function');\n    }\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n      throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n\n  var _react = __webpack_require__(1);\n\n  var _react2 = _interopRequireDefault(_react);\n\n  var _Cursor = __webpack_require__(2);\n\n  var _Cursor2 = _interopRequireDefault(_Cursor);\n\n  var _utils = __webpack_require__(4);\n\n  var utils = _interopRequireWildcard(_utils);\n\n  var Typist = function (_Component) {\n    _inherits(Typist, _Component);\n\n    _createClass(Typist, null, [{\n      key: 'propTypes',\n      value: {\n        children: _react.PropTypes.node,\n        className: _react.PropTypes.string,\n        avgTypingDelay: _react.PropTypes.number,\n        stdTypingDelay: _react.PropTypes.number,\n        startDelay: _react.PropTypes.number,\n        cursor: _react.PropTypes.object,\n        onTypingDone: _react.PropTypes.func,\n        delayGenerator: _react.PropTypes.func\n      },\n      enumerable: true\n    }, {\n      key: 'defaultProps',\n      value: {\n        className: '',\n        avgTypingDelay: 70,\n        stdTypingDelay: 25,\n        startDelay: 0,\n        cursor: {},\n        onTypingDone: function onTypingDone() {},\n        delayGenerator: utils.gaussianRnd\n      },\n      enumerable: true\n    }]);\n\n    function Typist(props) {\n      var _this = this;\n\n      _classCallCheck(this, Typist);\n\n      _get(Object.getPrototypeOf(Typist.prototype), 'constructor', this).call(this, props);\n\n      this.state = {\n        text: [],\n        isDone: false\n      };\n\n      this.onTypingDone = function () {\n        _this.setState({\n          isDone: true\n        });\n\n        _this.props.onTypingDone();\n      };\n\n      this.delayGenerator = function (line, lineIdx, character, charIdx) {\n        var mean = _this.props.avgTypingDelay;\n        var std = _this.props.stdTypingDelay;\n        return _this.props.delayGenerator(mean, std, {\n          line: line,\n          lineIdx: lineIdx,\n          character: character,\n          charIdx: charIdx,\n          defDelayGenerator: function defDelayGenerator() {\n            var mn = arguments.length <= 0 || arguments[0] === undefined ? mean : arguments[0];\n            var st = arguments.length <= 1 || arguments[1] === undefined ? std : arguments[1];\n            return utils.gaussianRnd(mn, st);\n          }\n        });\n      };\n\n      if (this.props.children) {\n        this.toType = utils.extractText(this.props.children);\n\n        if (this.props.startDelay > 0) {\n          this.typeAll = setTimeout.bind(window, this.typeAll.bind(this), this.props.startDelay);\n        }\n      }\n    }\n\n    _createClass(Typist, [{\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        if (this.props.children) {\n          this.typeAll();\n        } else {\n          this.onTypingDone();\n        }\n      }\n    }, {\n      key: 'shouldComponentUpdate',\n      value: function shouldComponentUpdate(nextProps, nextState) {\n        for (var idx = 0; idx < nextState.text.length; idx++) {\n          var txt = this.state.text[idx];\n          var ntxt = nextState.text[idx];\n          if (txt !== ntxt && ntxt.length > 0) return true;\n        }\n\n        return this.state.isDone !== nextState.isDone;\n      }\n    }, {\n      key: 'typeAll',\n      value: function typeAll() {\n        var _this2 = this;\n\n        var strs = arguments.length <= 0 || arguments[0] === undefined ? this.toType : arguments[0];\n        utils.asyncEach(strs, function (line, adv, idx) {\n          _this2.setState({\n            text: _this2.state.text.concat([''])\n          }, function () {\n            _this2.typeStr(line, idx, adv);\n          });\n        }, this.onTypingDone);\n      }\n    }, {\n      key: 'typeStr',\n      value: function typeStr(line, idx) {\n        var _this3 = this;\n\n        var onDone = arguments.length <= 2 || arguments[2] === undefined ? function () {} : arguments[2];\n        utils.eachRndTimeout(line, function (ch, adv) {\n          var text = _this3.state.text.slice();\n\n          text[idx] += ch;\n\n          _this3.setState({\n            text: text\n          }, adv);\n        }, onDone, this.delayGenerator.bind(this, line, idx));\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        var className = this.props.className;\n        var innerTree = utils.extractTreeWithText(this.props.children, this.state.text);\n        return _react2['default'].createElement('div', {\n          className: 'Typist ' + className\n        }, innerTree, _react2['default'].createElement(_Cursor2['default'], _extends({\n          isDone: this.state.isDone\n        }, this.props.cursor)));\n      }\n    }]);\n\n    return Typist;\n  }(_react.Component);\n\n  exports['default'] = Typist;\n  module.exports = exports['default'];\n  /***/\n},\n/* 1 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"react\");\n  /***/\n},\n/* 2 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if ('value' in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  var _get = function get(_x, _x2, _x3) {\n    var _again = true;\n\n    _function: while (_again) {\n      var object = _x,\n          property = _x2,\n          receiver = _x3;\n      desc = parent = getter = undefined;\n      _again = false;\n      if (object === null) object = Function.prototype;\n      var desc = Object.getOwnPropertyDescriptor(object, property);\n\n      if (desc === undefined) {\n        var parent = Object.getPrototypeOf(object);\n\n        if (parent === null) {\n          return undefined;\n        } else {\n          _x = parent;\n          _x2 = property;\n          _x3 = receiver;\n          _again = true;\n          continue _function;\n        }\n      } else if ('value' in desc) {\n        return desc.value;\n      } else {\n        var getter = desc.get;\n\n        if (getter === undefined) {\n          return undefined;\n        }\n\n        return getter.call(receiver);\n      }\n    }\n  };\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      'default': obj\n    };\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError('Cannot call a class as a function');\n    }\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n      throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n\n  var _react = __webpack_require__(1);\n\n  var _react2 = _interopRequireDefault(_react);\n\n  __webpack_require__(3);\n\n  var Cursor = function (_Component) {\n    _inherits(Cursor, _Component);\n\n    _createClass(Cursor, null, [{\n      key: 'propTypes',\n      value: {\n        blink: _react.PropTypes.bool,\n        show: _react.PropTypes.bool,\n        element: _react.PropTypes.node,\n        hideWhenDone: _react.PropTypes.bool,\n        hideWhenDoneDelay: _react.PropTypes.number,\n        isDone: _react.PropTypes.bool\n      },\n      enumerable: true\n    }, {\n      key: 'defaultProps',\n      value: {\n        blink: true,\n        show: true,\n        element: '|',\n        hideWhenDone: false,\n        hideWhenDoneDelay: 1000,\n        isDone: false\n      },\n      enumerable: true\n    }]);\n\n    function Cursor(props) {\n      _classCallCheck(this, Cursor);\n\n      _get(Object.getPrototypeOf(Cursor.prototype), 'constructor', this).call(this, props);\n\n      this.state = {\n        shouldRender: this.props.show\n      };\n    }\n\n    _createClass(Cursor, [{\n      key: 'componentWillReceiveProps',\n      value: function componentWillReceiveProps(nextProps) {\n        var _this = this;\n\n        var shouldHide = !this.props.isDone && nextProps.isDone && this.props.hideWhenDone;\n\n        if (shouldHide) {\n          setTimeout(function () {\n            return _this.setState({\n              shouldRender: false\n            });\n          }, this.props.hideWhenDoneDelay);\n        }\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        if (this.state.shouldRender) {\n          var className = this.props.blink ? ' Cursor--blinking' : '';\n          return _react2['default'].createElement('span', {\n            className: 'Cursor' + className\n          }, this.props.element);\n        }\n\n        return null;\n      }\n    }]);\n\n    return Cursor;\n  }(_react.Component);\n\n  exports['default'] = Cursor;\n  module.exports = exports['default'];\n  /***/\n},\n/* 3 */\n\n/***/\nfunction (module, exports) {// removed by extract-text-webpack-plugin\n\n  /***/\n},\n/* 4 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _slicedToArray = function () {\n    function sliceIterator(arr, i) {\n      var _arr = [];\n      var _n = true;\n      var _d = false;\n      var _e = undefined;\n\n      try {\n        for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n          _arr.push(_s.value);\n\n          if (i && _arr.length === i) break;\n        }\n      } catch (err) {\n        _d = true;\n        _e = err;\n      } finally {\n        try {\n          if (!_n && _i['return']) _i['return']();\n        } finally {\n          if (_d) throw _e;\n        }\n      }\n\n      return _arr;\n    }\n\n    return function (arr, i) {\n      if (Array.isArray(arr)) {\n        return arr;\n      } else if (Symbol.iterator in Object(arr)) {\n        return sliceIterator(arr, i);\n      } else {\n        throw new TypeError('Invalid attempt to destructure non-iterable instance');\n      }\n    };\n  }();\n\n  exports.gaussianRnd = gaussianRnd;\n  exports.asyncEach = asyncEach;\n  exports.eachRndTimeout = eachRndTimeout;\n  exports.exclude = exclude;\n  exports.extractText = extractText;\n  exports.elementFactoryMaker = elementFactoryMaker;\n  exports.extractTreeWithText = extractTreeWithText;\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      'default': obj\n    };\n  }\n\n  function _toConsumableArray(arr) {\n    if (Array.isArray(arr)) {\n      for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n        arr2[i] = arr[i];\n      }\n\n      return arr2;\n    } else {\n      return Array.from(arr);\n    }\n  }\n\n  var _react = __webpack_require__(1);\n\n  var _react2 = _interopRequireDefault(_react);\n\n  function gaussianRnd(mean, std) {\n    var times = 12;\n    var sum = 0;\n\n    for (var idx = 0; idx < times; idx++) {\n      sum += Math.random();\n    }\n\n    sum -= times / 2;\n    return Math.round(sum * std) + mean;\n  }\n\n  function asyncEach(arr, callback) {\n    var onDone = arguments.length <= 2 || arguments[2] === undefined ? function () {} : arguments[2];\n    var count = 0;\n\n    var adv = function adv() {\n      if (count === arr.length) {\n        return onDone();\n      }\n\n      var idx = count;\n      count++;\n      callback(arr[idx], adv, idx);\n    };\n\n    adv();\n  }\n\n  function eachRndTimeout(arr, callback, onDone, rndFn) {\n    asyncEach(arr, function (el, adv, idx) {\n      callback(el, function () {\n        setTimeout(adv, rndFn(el, idx));\n      });\n    }, onDone);\n  }\n\n  function exclude(obj, keys) {\n    var res = {};\n\n    for (var key in obj) {\n      if (keys.indexOf(key) === -1) {\n        res[key] = obj[key];\n      }\n    }\n\n    return res;\n  }\n\n  function extractText(toType) {\n    var st = toType ? [toType] : [];\n    var lines = [];\n\n    while (st.length > 0) {\n      var cur = st.pop();\n\n      if (_react2['default'].isValidElement(cur)) {\n        _react2['default'].Children.forEach(cur.props.children, function (child) {\n          st.push(child);\n        });\n      } else {\n        if (Array.isArray(cur)) {\n          var _iteratorNormalCompletion = true;\n          var _didIteratorError = false;\n          var _iteratorError = undefined;\n\n          try {\n            for (var _iterator = cur[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n              var el = _step.value;\n              st.push(el);\n            }\n          } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion && _iterator['return']) {\n                _iterator['return']();\n              }\n            } finally {\n              if (_didIteratorError) {\n                throw _iteratorError;\n              }\n            }\n          }\n        } else {\n          lines.unshift(cur);\n        }\n      }\n    }\n\n    return lines;\n  }\n\n  function elementFactoryMaker() {\n    var key = 0;\n    return function (el) {\n      var tag = el.type;\n      var props = exclude(el.props, ['children']);\n      props.key = 'Typist-el-' + key++;\n      return _react2['default'].createElement.bind(null, tag, props);\n    };\n  }\n\n  function extractTreeWithText() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (!args[0]) return void 0;\n    var factMaker = elementFactoryMaker();\n\n    var inner = function inner(tree, text, textIdx) {\n      if (textIdx >= text.length) return [null, textIdx];\n      var idx = textIdx;\n\n      var recurse = function recurse(ch) {\n        var _inner = inner(ch, text, idx);\n\n        var _inner2 = _slicedToArray(_inner, 2);\n\n        var child = _inner2[0];\n        var advIdx = _inner2[1];\n        idx = advIdx;\n        return child;\n      }; // Recursively call on children of React Element\n\n\n      if (_react2['default'].isValidElement(tree)) {\n        var fact = factMaker(tree);\n        var children = _react2['default'].Children.map(tree.props.children, recurse) || [];\n        return [fact.apply(undefined, _toConsumableArray(children)), idx];\n      } // Recursively call on array\n\n\n      if (Array.isArray(tree)) {\n        var children = tree.map(recurse);\n        return [children, idx];\n      } // Return text\n\n\n      return [text[idx], idx + 1];\n    };\n\n    return inner.apply(undefined, args.concat([0]))[0];\n  }\n  /***/\n\n}\n/******/\n]);","map":null,"metadata":{},"sourceType":"script"}